(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a(65),o=a(67),s=a(66),l=a(7),m=a(8),u=a(10),d=a(9),p=a(11);function h(e){return(e/100).toLocaleString("en-US",{style:"currency",currency:"INR"})}function f(e){return e[Math.floor(Math.random()*e.length)]}var b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).myInput=r.a.createRef(),a.goToCafe=function(e){e.preventDefault();var t=a.myInput.current.value;a.props.history.push("/cafe/".concat(t))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{action:"",className:"cafe-selector",onSubmit:this.goToCafe},r.a.createElement("h2",null,"Please Enter a Cafe name"),r.a.createElement("input",{type:"text",ref:this.myInput,required:!0,placeholder:"Cafe Name",defaultValue:"".concat(f(["aroma","trifecta","fresh","beany","boston","club","coffee","cuppy","dream","espresso","grinders","expresso","ground","sparkling","impresso","jackedUp","jumpin","jumpstart","lavaJava","manhattan","mugs","spicedChai","jackson","steamin","steamy","tatianas","family","vintage","friendly","roasted","mojoJojo","jamies","marks","newHub","mikes","yoLo"]),"-").concat(f(["beans","bean","cups","mugs","coffee","cafe","cappuccinos","mochaccinos","geese","caldi","aromatico","crema","salvaje","twists","latte","baristas","shop","joint","restaurant","treats","yums","store","house","point","hut","breakfast","cafeteria","delights","oven","coffeeville"]),"-").concat(f(["washington","georgia","kentucky","newYork","kansas","texas","vermont","virginia","springfield","florida","michigan","oregon","tennessee","wisconsin","connecticut","winchester","nebraska","franklin","clinton","maryland","montana","ohio","greenville","millford","fairview","madison","georgetown","arlington","oxford","lexington"]))}),r.a.createElement("button",{type:"submit"},"Visit Cafe \u25b6")))}}]),t}(r.a.Component),g=a(13),v=a(4),y=function(e){var t=e.tagline;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"top"},r.a.createElement("h1",null,"Menu",r.a.createElement("span",{className:"ofThe"},r.a.createElement("span",{className:"of"},"of"),r.a.createElement("span",{className:"the"},"the")),"Day"),r.a.createElement("h3",{className:"tagline"},r.a.createElement("span",null,t))))},E=a(17),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderOrder=function(e){var t=a.props.items[e],n=a.props.order[e],c=r.a.createElement("button",{onClick:function(){return a.props.removeFromOrder(e)}},"\u274c"),i={classNames:"order",key:e,timeout:{enter:500,exit:500}};return t&&"unavailable"!==t.status?r.a.createElement(E.CSSTransition,i,r.a.createElement("li",{key:e},r.a.createElement("span",null,r.a.createElement(E.TransitionGroup,{component:"span",className:"count"},r.a.createElement(E.CSSTransition,{classNames:"count",key:n,timeout:{enter:250,exit:250}},r.a.createElement("span",null,n)))," \u2716 ",t.name," \ud83d\udc49",r.a.createElement("span",{className:"price"},h(n*t.price),c)))):r.a.createElement(E.CSSTransition,i,r.a.createElement("li",{key:e},"Sorry, ",t?t.name:"item"," is no longer available.",c))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.order),a=t.reduce(function(t,a){var n=e.props.items[a],r=e.props.order[a];return n&&"available"===n.status?t+r*n.price:t},0);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"order-wrap"},r.a.createElement("h2",null,"Orders"),r.a.createElement(E.TransitionGroup,{component:"ul",className:"order"},t.map(this.renderOrder)),r.a.createElement("div",{className:"total"},"Total:",r.a.createElement("strong",null,h(a)))))}}]),t}(r.a.Component),j=a(18),k=a.n(j),I=a(22),w=a(20),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).nameRef=r.a.createRef(),a.priceRef=r.a.createRef(),a.statusRef=r.a.createRef(),a.descRef=r.a.createRef(),a.imageRef=r.a.createRef(),a.createItem=function(e){e.preventDefault();var t={name:a.nameRef.current.value,price:parseFloat(a.priceRef.current.value),status:a.statusRef.current.value,desc:a.descRef.current.value,image:a.imageRef.current.value};a.props.addItem(t),e.currentTarget.reset()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"item-edit",onSubmit:this.createItem},r.a.createElement("input",{name:"name",ref:this.nameRef,type:"text",placeholder:"Name"}),r.a.createElement("input",{name:"price",ref:this.priceRef,type:"text",placeholder:"Price"}),r.a.createElement("select",{name:"status",ref:this.statusRef},r.a.createElement("option",{value:"available"},"Fresh!"),r.a.createElement("option",{value:"unavailable"},"Sold Out!")),r.a.createElement("textarea",{name:"desc",ref:this.descRef,placeholder:"Desc"}),r.a.createElement("input",{name:"image",ref:this.imageRef,type:"text",placeholder:"Image"}),r.a.createElement("button",{type:"submit"},"\u2795 Add Item")))}}]),t}(r.a.Component),S=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"login"},r.a.createElement("h2",null,"Inventory Login"),r.a.createElement("p",null,"Login to manage the Invetory"),r.a.createElement("button",{className:"github",onClick:function(){return e.authenticate("Github")}},"Login with Github"),r.a.createElement("button",{className:"facebook",onClick:function(){return e.authenticate("Facebook")}},"Login with Facebook"),r.a.createElement("button",{className:"twitter",onClick:function(){return e.authenticate("Twitter")}},"Login with Twitter")))},x=a(16),N=a.n(x),R=a(31),T=a.n(R),F=N.a.initializeApp({apiKey:"AIzaSyD-eDAaxxl96kCqge0uyoAWcsPLpIKEi8g",authDomain:"menu-of-the-day-7d3f2.firebaseapp.com",databaseURL:"https://menu-of-the-day-7d3f2.firebaseio.com"}),A=T.a.createClass(F.database()),L=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleChange=function(t,a){var n=e.props.items[a],r=Object(g.a)({},n,Object(w.a)({},t.target.name,t.target.value));e.props.updateItem(a,r)},e.renderInventory=function(t){var a=e.props.items[t];return r.a.createElement("div",{className:"item-edit",key:t},r.a.createElement("input",{type:"text",name:"name",value:a.name,placeholder:"Item Name",onChange:function(a){e.handleChange(a,t)}}),r.a.createElement("input",{type:"text",name:"price",value:a.price,placeholder:"Item Price",onChange:function(a){e.handleChange(a,t)}}),r.a.createElement("select",{type:"text",name:"status",value:a.status,placeholder:"Item Status",onChange:function(a){e.handleChange(a,t)}},r.a.createElement("option",{value:"available"},"Available!"),r.a.createElement("option",{value:"unavailable"},"Sold Out!")),r.a.createElement("textarea",{type:"text",name:"desc",value:a.desc,placeholder:"Item Desc",onChange:function(a){e.handleChange(a,t)}}),r.a.createElement("input",{type:"text",name:"image",value:a.image,placeholder:"Item Image",onChange:function(a){e.handleChange(a,t)}}),r.a.createElement("button",{onClick:function(){return e.props.removeItem(t)}},"\u274c Remove Item"))},e.state={uid:null,owner:null},e.authHandler=function(){var t=Object(I.a)(k.a.mark(function t(a){var n;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,A.fetch(e.props.cafeId,{context:Object(v.a)(Object(v.a)(e))});case 3:if((n=t.sent).owner){t.next=11;break}return t.next=7,A.post("".concat(e.props.cafeId,"/owner"),{data:a.user.uid});case 7:return t.next=9,A.post("".concat(e.props.cafeId,"/emailId"),{data:a.user.email});case 9:return t.next=11,A.post("".concat(e.props.cafeId,"/name"),{data:a.user.displayName});case 11:e.setState({uid:a.user.uid,owner:n.owner||a.user.uid});case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.authenticate=function(t){var a=new(N.a.auth["".concat(t,"AuthProvider")]);F.auth().signInWithPopup(a).then(e.authHandler)},e.logout=Object(I.a)(k.a.mark(function t(){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.warn("Logging Out!"),t.next=3,N.a.auth().signOut();case 3:e.setState({uid:null});case 4:case"end":return t.stop()}},t)})),e.renderInventory=e.renderInventory.bind(Object(v.a)(Object(v.a)(e))),e.handleChange=e.handleChange.bind(Object(v.a)(Object(v.a)(e))),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.a.auth().onAuthStateChanged(function(t){t&&e.authHandler({user:t})})}},{key:"render",value:function(){var e=r.a.createElement("button",{onClick:this.logout},"Log Out!");return this.state.uid?this.state.uid!=this.state.owner?r.a.createElement("div",null,r.a.createElement("p",null,"Sorry, you are not the owner of this Cafe!!"),e):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"inventory"},r.a.createElement("h2",null,"Inventory"),e,Object.keys(this.props.items).map(this.renderInventory),r.a.createElement(C,{addItem:this.props.addItem}),r.a.createElement("button",{onClick:this.props.loadSampleMenu},"Load Sample Menu"))):r.a.createElement(S,{authenticate:this.authenticate})}}]),t}(r.a.Component),M={item1:{name:"Coffee",image:"/images/coffee.jpeg",desc:"Everyone\u2019s favorite cappucino. We will serve you the best in the town!",price:1724,status:"available"},item2:{name:"Burger",image:"/images/burger.jpeg",desc:"These tender, mouth-watering beauty is a fantastic hit of all time.",price:3200,status:"available"},item3:{name:"Sandwich",image:"/images/sandwich.jpeg",desc:"Big, fresh and tender. True chicken ham of Alaska.",price:1684,status:"unavailable"},item4:{name:"Meal",image:"/images/meal.jpeg",desc:"Lean flesh with a mild, spicy flavor profile, moderately firm texture and large fries with drink of your choice. ",price:1129,status:"available"},item5:{name:"Noodles",image:"/images/noodles.jpeg",desc:"Enjoy plain or with one of our cocktail sauces. It's yummy!!",price:4234,status:"available"},item6:{name:"Fish",image:"/images/fish.jpeg",desc:"This flaky, oily salmon is truly the king of the sea. Bakeed, grilled, broiled...as good as it gets!",price:1453,status:"available"},item7:{name:"Taco",image:"/images/taco.jpeg",desc:"Soft fresh tortillas stacked with crispy fish and freshly shaved cabbage. ",price:2543,status:"available"},item8:{name:"Pizza",image:"/images/pizza.jpeg",desc:"The best mexican chicken with slow roasted pork topped with a full-flavored and complex taste.",price:425,status:"available"},item9:{name:"Steak",image:"/images/steak.jpeg",desc:"Thick beef patty stacked with fresh cabbage, tomato, lettuce, onions and special pickle boss sauce . ",price:2250,status:"available"}},D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.addToOrder(a.props.index)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.details,t=e.image,a=e.name,n=e.price,c=e.desc,i="available"===e.status;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"menu-item"},r.a.createElement("img",{src:t,alt:a}),r.a.createElement("h3",{className:"item-name"},a,r.a.createElement("span",{className:"price"},h(n))),r.a.createElement("p",null,c),r.a.createElement("button",{disabled:!i,onClick:this.handleClick},i?"Add to Cart":"Sold Out")))}}]),t}(r.a.Component),P=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={items:{},order:{}},e.addItem=function(t){var a=Object(g.a)({},e.state.items);a["item".concat(Date.now())]=t,e.setState({items:a})},e.updateItem=function(t,a){var n=Object(g.a)({},e.state.items);n[t]=a,e.setState({items:n})},e.removeItem=function(t){var a=Object(g.a)({},e.state.items);a[t]=null,e.setState({items:a})},e.loadSampleMenu=function(){e.setState({items:M})},e.addToOrder=function(t){var a=Object(g.a)({},e.state.order);a[t]=a[t]+1||1,e.setState({order:a})},e.removeFromOrder=function(t){var a=Object(g.a)({},e.state.order);delete a[t],e.setState({order:a})},e.addItem=e.addItem.bind(Object(v.a)(Object(v.a)(e))),e.updateItem=e.updateItem.bind(Object(v.a)(Object(v.a)(e))),e.removeItem=e.removeItem.bind(Object(v.a)(Object(v.a)(e))),e.addToOrder=e.addToOrder.bind(Object(v.a)(Object(v.a)(e))),e.removeFromOrder=e.removeFromOrder.bind(Object(v.a)(Object(v.a)(e))),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params;this.ref=A.syncState("".concat(e.cafeId,"/items"),{context:this,state:"items"});var t=localStorage.getItem("order-".concat(e.cafeId));t&&this.setState({order:JSON.parse(t)})}},{key:"componentWillUpdate",value:function(e,t){var a=this.props.match.params;localStorage.setItem("order-".concat(a.cafeId),JSON.stringify(t.order))}},{key:"componentWillUnmount",value:function(){A.removeBinding(this.ref)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu-of-the-day"},r.a.createElement("div",{className:"menu"},r.a.createElement(y,{tagline:"Daily Fresh Menu"}),r.a.createElement("ul",{className:"items"},Object.keys(this.state.items).map(function(t){return r.a.createElement(D,{key:t,index:t,details:e.state.items[t],addToOrder:e.addToOrder})}))),r.a.createElement(O,{items:this.state.items,order:this.state.order,params:this.props.match.params,removeFromOrder:this.removeFromOrder})," ",r.a.createElement(L,{addItem:this.addItem,removeItem:this.removeItem,loadSampleMenu:this.loadSampleMenu,items:this.state.items,updateItem:this.updateItem,cafeId:this.props.match.params.cafeId})))}}]),t}(n.Component),z=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Not Found"))},J=function(){return r.a.createElement(i.a,null,r.a.createElement(o.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:b}),r.a.createElement(s.a,{path:"/cafe/:cafeId",component:P}),r.a.createElement(s.a,{component:z})))};a(62);Object(c.render)(r.a.createElement(J,null),document.querySelector("#main"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b045acc1.chunk.js.map